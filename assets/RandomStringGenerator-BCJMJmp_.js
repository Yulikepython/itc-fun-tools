import{r as l,j as e}from"./index-BX-pfJIw.js";import{F as j,c as N,a as k,b as m,E as y,e as S}from"./index.esm-0HO061fT.js";const C=N({max:S().required("入力して下さい").positive().integer().lessThan(301,"300以上の文字列は生成できません。")}),n={uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",lowercase:"abcdefghijklmnopqrstuvwxyz",numbers:"0123456789",symbols:"!@#$%^&*()_-+={}[]|:;<>,.?/"},w=s=>{if(!s)return 0;let c=0;return s.length>=8&&(c+=1),s.length>=12&&(c+=1),s.length>=16&&(c+=1),/[A-Z]/.test(s)&&(c+=1),/[a-z]/.test(s)&&(c+=1),/[0-9]/.test(s)&&(c+=1),/[^A-Za-z0-9]/.test(s)&&(c+=1),Math.min(c,5)},v=s=>{switch(s){case 0:return"評価なし";case 1:return"非常に弱い";case 2:return"弱い";case 3:return"普通";case 4:return"強い";case 5:return"非常に強い";default:return"評価なし"}},F=s=>{switch(s){case 0:return"#cccccc";case 1:return"#ff3e36";case 2:return"#ff691f";case 3:return"#ffda36";case 4:return"#9dc560";case 5:return"#368700";default:return"#cccccc"}},E=(s,c)=>{let a="";c.uppercase&&(a+=n.uppercase),c.lowercase&&(a+=n.lowercase),c.numbers&&(a+=n.numbers),c.symbols&&(a+=n.symbols),a===""&&(a=n.uppercase+n.lowercase+n.numbers+n.symbols);let t="";for(let o=0;o<s;o++){const i=Math.floor(Math.random()*a.length);t+=a.charAt(i)}return t},$=({transferPage:s})=>{const[c,a]=l.useState(!1),[t,o]=l.useState(""),[i,h]=l.useState(!1),[d,b]=l.useState(0);l.useEffect(()=>{s()},[]);const x=()=>{t&&navigator.clipboard.writeText(t).then(()=>{h(!0),setTimeout(()=>h(!1),3e3)}).catch(r=>{console.error("クリップボードへのコピーに失敗しました:",r)})},f=(r,T)=>{a(!0),h(!1),setTimeout(()=>{const p={uppercase:r.uppercase,lowercase:r.lowercase,numbers:r.numbers,symbols:r.symbols},u=E(parseInt(r.max),p);o(u);const g=w(u);b(g),a(!1)},500)};return e.jsx(j,{initialValues:{max:"30",uppercase:!0,lowercase:!0,numbers:!0,symbols:!0},validationSchema:C,onSubmit:f,children:({values:r})=>e.jsxs("div",{className:"top-random-container",children:[e.jsxs(k,{className:"random-container",children:[e.jsx("h3",{children:"ランダム文字列生成アプリ"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"max",className:"form-label",children:"文字数を入力してください (1-300)"}),e.jsx(m,{name:"max",type:"number",className:"form-control",min:"1",max:"300"}),e.jsx("div",{className:"text-danger text-center",children:e.jsx(y,{name:"max"})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"form-label",children:"使用する文字種類"}),e.jsxs("div",{className:"form-check",children:[e.jsx(m,{type:"checkbox",name:"uppercase",className:"form-check-input",id:"uppercaseCheck"}),e.jsx("label",{className:"form-check-label",htmlFor:"uppercaseCheck",children:"大文字 (A-Z)"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx(m,{type:"checkbox",name:"lowercase",className:"form-check-input",id:"lowercaseCheck"}),e.jsx("label",{className:"form-check-label",htmlFor:"lowercaseCheck",children:"小文字 (a-z)"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx(m,{type:"checkbox",name:"numbers",className:"form-check-input",id:"numbersCheck"}),e.jsx("label",{className:"form-check-label",htmlFor:"numbersCheck",children:"数字 (0-9)"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx(m,{type:"checkbox",name:"symbols",className:"form-check-input",id:"symbolsCheck"}),e.jsx("label",{className:"form-check-label",htmlFor:"symbolsCheck",children:"記号 (!@#$% など)"})]}),!r.uppercase&&!r.lowercase&&!r.numbers&&!r.symbols&&e.jsx("div",{className:"text-danger mt-2",children:"少なくとも1つの文字種類を選択してください"})]}),e.jsx("button",{type:"submit",className:"btn generate-btn",disabled:!r.uppercase&&!r.lowercase&&!r.numbers&&!r.symbols,children:"ランダムな文字列を生成"})]}),c&&e.jsx("div",{className:"blink",children:"generating..."}),e.jsxs("div",{className:"result-container",children:[t&&e.jsx("div",{className:"mb-2",children:t}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"password-strength-container",children:[e.jsxs("div",{className:"strength-label",children:["強度: ",v(d)]}),e.jsx("div",{className:"strength-meter",children:e.jsx("div",{className:"strength-meter-fill",style:{width:`${d/5*100}%`,backgroundColor:F(d)}})})]}),e.jsx("button",{onClick:x,className:`btn copy-btn ${i?"copied":""}`,children:i?"コピーしました！":"クリップボードにコピー"})]})]})]})})};export{$ as default};
