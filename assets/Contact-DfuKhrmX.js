import{u,r as p,j as e,A as i}from"./index-BHGkvkC4.js";import{F as v,c as g,E as r,a as b,b as x,d as l,u as y}from"./index.esm-DB1KOxHN.js";import{a as E,E as f}from"./ErrorHandler-Br0enb37.js";const c=({label:t,...a})=>{const[n]=y(a);return e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:a.name,children:t}),e.jsx("input",{...n,...a})]})},F=g({name:l().max(50,"名前にしては長すぎます").required("お名前は必須です"),email:l().email("不正なEメールアドレスです").required("Eメールアドレスは必須です"),message:l().max(1e3,"メッセージは1000文字以下でお願いします").required("質問の内容を記述ください")}),N=async t=>{try{const n=await E.post("/api/email-endpoint/",JSON.stringify(t))}catch(a){f(a)}},V=({toggleMessage:t,transferPage:a})=>{let n={name:"",category:"",email:"",phone:"",message:""};const h=u();return p.useEffect(()=>{a()},[]),e.jsx(v,{initialValues:n,validationSchema:F,onSubmit:(o,j)=>{const d={domain:window.location.host},m={...o,...d};N(m),setTimeout(()=>{h("/"),t("お問い合わせありがとうございました","success")},1e3)},children:({values:o,setFieldValue:j,isSubmitting:d,...m})=>e.jsxs("div",{className:"contact-container",children:[e.jsxs("div",{className:"contact-title",children:[e.jsx("h3",{children:"Contact"}),e.jsx("p",{children:"お気軽にお問い合わせください"})]}),e.jsxs("div",{className:"error-div",children:[e.jsx(r,{name:"name",render:s=>e.jsx(i,{variant:"danger",children:s})}),e.jsx(r,{name:"email",render:s=>e.jsx(i,{variant:"danger",children:s})}),e.jsx(r,{name:"message",render:s=>e.jsx(i,{variant:"danger",children:s})})]}),e.jsxs(b,{className:"contact-form",children:[e.jsx(c,{name:"name",placeholder:"お名前...",label:"お名前",type:"text"}),e.jsx(c,{name:"email",placeholder:"youremail@example.com",label:"Eメールアドレス",type:"email"}),e.jsx(c,{name:"phone",placeholder:"電話番号",label:"電話番号",type:"text"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",children:"カテゴリー"}),e.jsxs(x,{as:"select",name:"category",children:[e.jsx("option",{children:"質問カテゴリー..."}),e.jsx("option",{value:"当アプリについて",children:"当サイトについて"}),e.jsx("option",{value:"ブログ(itc.tokyo)について",children:"ブログ(https://itc.tokyo)について"}),e.jsx("option",{value:"仕事の依頼をしたい",children:"仕事の依頼をしたい"}),e.jsx("option",{value:"その他",children:"その他"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",children:"ご質問内容"}),e.jsx(x,{name:"message",placeholder:"質問内容",className:"contact-message",children:({field:s})=>e.jsx("textarea",{...s,rows:7})})]}),e.jsx("div",{className:"btn-div",children:e.jsx("button",{type:"submit",className:"contact-btn",children:"お問い合わせ"})})]})]})})};export{V as default};
