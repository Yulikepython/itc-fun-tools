import{r as a,j as e}from"./index-BHGkvkC4.js";const T=25,v=0,k=5,C=0,W=()=>{const[l,b]=a.useState(!0),[c,d]=a.useState(T),[h,n]=a.useState(v),[r,m]=a.useState(null),[i,p]=a.useState([{value:"",readOnly:!1}]),[g,u]=a.useState(!1),[t,s]=a.useState(!1),o=()=>{p([...i,{value:"",readOnly:!1}])},N=()=>{d(T),n(v)},S=()=>{d(k),n(C)};a.useEffect(()=>{c<0&&(clearInterval(r),l?S():(N(),o()),b(!l),j())},[c,l,r,g]);const j=()=>{t&&o(),s(!1);const E=setInterval(()=>{n(x=>x===0?(d(I=>I-1),59):x-1)},1e3);m(E),u(!0)},f=()=>{clearInterval(r),u(!1)},y=()=>{f(),N(),b(!0),u(!1),s(!0)},O=`${String(c).padStart(2,"0")}:${String(h).padStart(2,"0")}`,R=`${i.length}`;return{displayTime:O,startTimer:j,stopTimer:f,resetTimer:y,numberOfPomodoro:R,notes:i,setNotes:p,isTimerRunning:g,isWorking:l}},P=()=>{const{displayTime:l,startTimer:b,stopTimer:c,resetTimer:d,numberOfPomodoro:h,notes:n,setNotes:r,isTimerRunning:m,isWorking:i}=W();a.useEffect(()=>{},[n]);const p=(t,s)=>{const o=[...n];o[t].value=s.target.value,r(o)},g=t=>{const s=[...n];s.splice(t,1),r(s)},u=t=>{const s=[...n];s[t].readOnly=!s[t].readOnly,r(s)};return e.jsxs("div",{className:"container pomodoro pt-2",children:[e.jsx("div",{className:"w-100",children:e.jsx("h1",{className:"text-start",children:"ポモドーロ・タイマー"})}),e.jsxs("div",{className:"m-4",children:[e.jsxs("p",{className:"tag-p",children:[i&&m&&e.jsx("span",{className:"badge bg-primary",children:"作業中"}),!i&&m&&e.jsx("span",{className:"badge bg-danger",children:"休憩中"})]}),e.jsx("p",{className:"text-title",children:l})]}),e.jsxs("div",{className:"btn-area",children:[e.jsx("button",{className:"btn btn-primary",onClick:b,disabled:m,id:"start-btn",children:"開始"}),e.jsx("button",{className:"btn btn-warning",onClick:c,id:"stop-btn",children:"一時停止"}),e.jsx("button",{className:"btn btn-danger",onClick:d,id:"reset-btn",children:"リセット"})]}),e.jsxs("div",{className:"pomodoro-area",children:[n.length>0&&e.jsx("p",{className:"pomodoro-title mt-4 mb-3",children:"作業内容を記録しよう"}),e.jsx("p",{className:"text-end",id:"pomodoro-sum",children:e.jsxs("span",{className:"badge bg-info",children:["本日のポモドーロ合計数：",h]})}),n.map((t,s)=>e.jsxs("div",{className:"input-group mb-3 form-row",children:[e.jsxs("span",{children:[s+1,". "]}),e.jsx("input",{className:"form-control memo-input",type:"text",value:t.value,onChange:o=>p(s,o),readOnly:t.readOnly,"aria-describedby":`button-addon-${s}`}),e.jsx("button",{className:"btn btn-outline-secondary edit-btn",type:"button",id:`button-addon-${s}`,onClick:()=>u(s),children:t.readOnly?"EDIT":"SAVE"}),n.length!==1&&e.jsx("button",{onClick:()=>g(s),className:"btn btn-outline-danger remover-btn",children:"削除"})]},s))]})]})};export{P as default};
