import{r as d,j as e}from"./index-DkZXbipC.js";import{F as m,c,a as h,b as u,E as p,d as x}from"./index.esm-Chxl36zW.js";import{r as v,E as f}from"./ErrorHandler-M6Bwl2ep.js";const j=c({value:x().max(100,"QRコードにしては長すぎます").required("入力して下さい")}),E=async(l,i)=>{try{const o=(await v("/tools/qrmaker/",JSON.stringify(l))).data.filepath;let r=document.createElement("img");r.alt="QRコード",r.width=250,r.height=250;let s=document.createElement("a");s.innerText="画像を取得";var t=document.getElementById("qrShowPng");r.src=o;var a=document.getElementById("qrImgDownload");for(s.href=o,s.download="qr.png";t.firstChild;)t.removeChild(t.lastChild);for(;a.firstChild;)a.removeChild(a.lastChild);setTimeout(()=>{t.appendChild(r),a.appendChild(s)},1e3),i.resetForm({values:{value:""}})}catch(n){f(n)}},q=({transferPage:l})=>(d.useEffect(()=>{l()},[]),e.jsx(m,{initialValues:{value:""},validationSchema:j,onSubmit:(i,t,...a)=>{E(i,t)},children:e.jsxs("div",{className:"top-qr-container",children:[e.jsxs(h,{className:"qr-container",children:[e.jsx("h2",{children:"QRコード生成アプリ"}),e.jsx(u,{name:"value",type:"text",placeholder:"文字列を入力",className:"form-control my-3"}),e.jsx("div",{className:"text-danger mb-3 text-center",children:e.jsx(p,{name:"value"})}),e.jsx("button",{type:"submit",children:"QR生成"})]}),e.jsx("div",{id:"qrShowPng"}),e.jsx("div",{id:"qrImgDownload"})]})}));export{q as default};
