import{j as e,r as u}from"./index-BX-pfJIw.js";import{F as h,c as p,a as j,b,E as v,d as f}from"./index.esm-0HO061fT.js";const N=()=>e.jsx("div",{className:"modal fade",id:"howToUseYearConverter",tabIndex:"-1",role:"dialog","aria-labelledby":"howToUseYearConverterModal","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h5",{className:"modal-title",id:"howToUseYearConverterModalTitle",children:"西暦・和暦変換ツールの使い方"})}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("ul",{children:[e.jsx("li",{children:"年-月-日とハイフンで区切ること"}),e.jsx("li",{children:"西暦の場合は、4桁、2桁、1桁で入力可能。1,2桁の場合は、19**と1900年代に変換されます"}),e.jsx("li",{children:"和暦の場合は、令和「r」、平成「h」、昭和「s」、大正「t」から始めること"}),e.jsx("li",{children:"大正以前の年月はエラーになります"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"title",children:"（例）"}),e.jsxs("div",{className:"seireki",children:[e.jsx("div",{children:"西暦の場合"}),e.jsx("div",{children:"【年月日】2000-1-1"}),e.jsx("div",{children:"【年のみ】2000"}),e.jsx("div",{children:"【2桁】90-1-1"})]}),e.jsxs("div",{className:"wareki",children:[e.jsx("div",{children:"和暦の場合"}),e.jsx("div",{children:"【年月日】r1-1-1"}),e.jsx("div",{children:"【年のみ】h60"})]})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary form-control w-50 mx-auto","data-dismiss":"modal",id:"modal-close-btn",children:"Close"})})]})})}),t={r:[2019,5,1],h:[1989,1,8],s:[1926,12,25],t:[1912,7,30]},y={r:"令和",h:"平成",s:"昭和",t:"大正"},o={r:"#E57373",h:"#64B5F6",s:"#81C784",t:"#FFD54F"};function g(s,r){return t[s]?t[s][0]+parseInt(r)-1:null}function w(s){const r=parseInt(s);return r>=t.r[0]?{era:"r",eraName:"令和",year:r-t.r[0]+1}:r>=t.h[0]&&r<t.r[0]?{era:"h",eraName:"平成",year:r-t.h[0]+1}:r>=t.s[0]&&r<t.h[0]?{era:"s",eraName:"昭和",year:r-t.s[0]+1}:r>=t.t[0]&&r<t.s[0]?{era:"t",eraName:"大正",year:r-t.t[0]+1}:null}function C(s){const l=s.trim().split("-"),i=l[0],d=l.length>1?`-${l[1]}`:"",c=l.length>2?`-${l[2]}`:"";if(/^\d/.test(i)){let a=parseInt(i);a<100&&(a+=1900);const n=w(a);return n?{text:`${n.eraName}${n.year}年${d.replace("-","")}${c.replace("-","")}`,era:n.era}:{text:"変換できない年代です（大正以前はサポートしていません）",era:null}}else{const a=i[0].toLowerCase(),n=i.substring(1);if(!y[a])return{text:"不正な元号です（r, h, s, tのいずれかで始めてください）",era:null};const m=g(a,n);return m?{text:`西暦${m}年${d.replace("-","")}${c.replace("-","")}`,era:"western"}:{text:"変換できない年代です",era:null}}}const $=p({value:f().test("is-number-or-starts-with","不正な文字列です。※使い方を参照してください。",s=>s?k(s)||E(s):!0).required("入力して下さい")}),F=({transferPage:s})=>{const[r,l]=u.useState(null),[i,d]=u.useState(!1);u.useEffect(()=>{s()},[]);const c=(n,m)=>{const x=C(n.value);l(x),d(!0),m.resetForm({values:{value:""}})},a=()=>!r||!r.era?{borderColor:"#f44336"}:r.era==="western"?{borderColor:"#3f51b5"}:{borderColor:o[r.era],boxShadow:`0 0 8px ${o[r.era]}`};return e.jsx(h,{initialValues:{value:""},validationSchema:$,onSubmit:c,children:()=>e.jsxs("div",{className:"container d-flex flex-column justify-content-center align-items-center h-100 my-5",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"card w-100 shadow",children:[e.jsx("div",{className:"card-header bg-primary text-white py-3",children:e.jsx("h2",{className:"text-center mb-0",children:"西暦・和暦変換アプリ"})}),e.jsxs("div",{className:"card-body p-4",children:[e.jsx("div",{className:"d-flex justify-content-end mb-4",children:e.jsxs("button",{type:"button","data-toggle":"modal","data-target":"#howToUseYearConverter",className:"btn btn-sm btn-outline-info px-3",children:[e.jsx("i",{className:"fas fa-question-circle mr-2"})," 使い方"]})}),e.jsxs(j,{className:"mb-4",children:[e.jsxs("div",{className:"input-group mb-4",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-calendar-alt"})})}),e.jsx(b,{name:"value",type:"text",placeholder:"年-月-日（例: 2021-4-1 または r3-4-1）",className:"form-control py-2",id:"input-datetime",autoComplete:"off"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"submit",className:"btn btn-primary px-4",id:"convert-btn",style:{minWidth:"100px"},children:"変換"})})]}),e.jsx("div",{className:"yearConverter-error text-danger mb-3 px-2",children:e.jsx(v,{name:"value",id:"input-error"})})]}),i&&e.jsxs("div",{className:"my-5 py-2",children:[e.jsx("h5",{className:"text-center mb-4",children:"変換結果"}),e.jsx("div",{className:"result-container p-4 rounded text-center mx-auto",style:{border:"2px solid",transition:"all 0.3s ease",fontSize:"1.3rem",fontWeight:"bold",backgroundColor:"#f8f9fa",maxWidth:"500px",...a()},children:r.text})]}),e.jsxs("div",{className:"era-legend mt-5 pt-3",children:[e.jsx("h6",{className:"text-center mb-3 text-secondary",children:"元号カラーガイド"}),e.jsxs("div",{className:"d-flex justify-content-center flex-wrap",children:[e.jsx("div",{className:"era-item mx-3 mb-3 px-4 py-2 rounded shadow-sm",style:{backgroundColor:o.r,color:"white"},children:"令和"}),e.jsx("div",{className:"era-item mx-3 mb-3 px-4 py-2 rounded shadow-sm",style:{backgroundColor:o.h,color:"white"},children:"平成"}),e.jsx("div",{className:"era-item mx-3 mb-3 px-4 py-2 rounded shadow-sm",style:{backgroundColor:o.s,color:"white"},children:"昭和"}),e.jsx("div",{className:"era-item mx-3 mb-3 px-4 py-2 rounded shadow-sm",style:{backgroundColor:o.t,color:"black"},children:"大正"}),e.jsx("div",{className:"era-item mx-3 mb-3 px-4 py-2 rounded shadow-sm",style:{backgroundColor:"#3f51b5",color:"white"},children:"西暦"})]})]})]})]}),e.jsx(N,{})]})})};function k(s){return/^\d/.test(s)}function E(s){return!!(s.startsWith("t")||s.startsWith("s")||s.startsWith("h")||s.startsWith("r"))}export{F as default};
