import{r as a,j as e}from"./index-BioG8MOb.js";const T=25,v=0,I=5,C=0,W=()=>{const[l,b]=a.useState(!0),[i,d]=a.useState(T),[N,n]=a.useState(v),[o,m]=a.useState(null),[c,p]=a.useState([{value:"",readOnly:!1}]),[h,u]=a.useState(!1),[t,s]=a.useState(!1),r=()=>{p([...c,{value:"",readOnly:!1}])},g=()=>{d(T),n(v)},S=()=>{d(I),n(C)};a.useEffect(()=>{i<0&&(clearInterval(o),l?S():(g(),r()),b(!l),j())},[i,l,o,h]);const j=()=>{t&&r(),s(!1);const R=setInterval(()=>{n(f=>f===0?(d(E=>E-1),59):f-1)},1e3);m(R),u(!0)},x=()=>{clearInterval(o),u(!1)},y=()=>{x(),g(),b(!0),u(!1),s(!0)},O=`${String(i).padStart(2,"0")}:${String(N).padStart(2,"0")}`,k=`${c.length}`;return{displayTime:O,startTimer:j,stopTimer:x,resetTimer:y,numberOfPomodoro:k,notes:c,setNotes:p,isTimerRunning:h,isWorking:l}},P=()=>{const{displayTime:l,startTimer:b,stopTimer:i,resetTimer:d,numberOfPomodoro:N,notes:n,setNotes:o,isTimerRunning:m,isWorking:c}=W();a.useEffect(()=>{},[n]);const p=(t,s)=>{const r=[...n];r[t].value=s.target.value,o(r)},h=t=>{const s=[...n];s.splice(t,1),o(s)},u=t=>{const s=[...n];s[t].readOnly=!s[t].readOnly,o(s)};return e.jsxs("div",{className:"container pomodoro pt-2",children:[e.jsx("div",{className:"w-100",children:e.jsx("h1",{className:"text-start",children:"ポモドーロ・タイマー"})}),e.jsxs("div",{className:"m-4",children:[e.jsxs("p",{className:"tag-p",children:[c&&m&&e.jsx("span",{className:"badge bg-secondary",children:"作業中"}),!c&&m&&e.jsx("span",{className:"badge bg-dark",children:"休憩中"})]}),e.jsx("p",{className:"text-title",children:l})]}),e.jsxs("div",{className:"btn-area",children:[e.jsx("button",{className:"btn btn-outline-dark",onClick:b,disabled:m,id:"start-btn",children:"開始"}),e.jsx("button",{className:"btn btn-outline-secondary",onClick:i,id:"stop-btn",children:"一時停止"}),e.jsx("button",{className:"btn btn-outline-danger",onClick:d,id:"reset-btn",children:"リセット"})]}),e.jsxs("div",{className:"pomodoro-area",children:[n.length>0&&e.jsx("p",{className:"pomodoro-title mt-4 mb-3",children:"作業内容を記録しよう"}),e.jsx("p",{className:"text-end",id:"pomodoro-sum",children:e.jsxs("span",{className:"badge",children:["本日のポモドーロ合計数：",N]})}),n.map((t,s)=>e.jsxs("div",{className:"input-group mb-3 form-row",children:[e.jsxs("span",{children:[s+1,". "]}),e.jsx("input",{className:"form-control memo-input",type:"text",value:t.value,onChange:r=>p(s,r),readOnly:t.readOnly,"aria-describedby":`button-addon-${s}`}),e.jsx("button",{className:`btn ${t.readOnly?"btn-outline-dark":"btn-outline-secondary"} edit-btn`,type:"button",id:`button-addon-${s}`,onClick:()=>u(s),children:t.readOnly?"EDIT":"SAVE"}),n.length!==1&&e.jsx("button",{onClick:()=>h(s),className:"btn btn-outline-danger remover-btn",children:"削除"})]},s))]})]})};export{P as default};
